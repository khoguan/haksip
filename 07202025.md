# 2025-07-20 學習日誌

- [X] 叫 AI 共我安裝色水預覽 nvim plugin vim
- [X] 改 nigth-owl 主題个 cursorline 色水
- [X] nvim 按怎扑開拄才關掉个檔案？
- [X] nvim import plugins 个順序
- [X] 設定 auto-session 个 keymaps
- [X] 參考 Josean Martinez 个 nvim-cmp 設定做修改

## install/setup nvim-colorizer.lua

**AI 完成報告：**

### Features Included:
-  SCSS support as you requested, plus other common web filetypes
-  Lazy loading - only loads when you open relevant file types
-  Comprehensive color format support:
-  #RGB and #RRGGBB hex codes (like in your palette.lua)
-  #RRGGBBAA hex codes with alpha
-  CSS rgb(), rgba(), hsl(), hsla() functions
-  And more formats

### Filetypes Supported:
-  lua (for your palette.lua and other Lua files)
-  css and scss (as requested)
-  html, javascript, typescript (common web dev files)
-  vim (for Vim script files)

### Next Step
1. Restart Neovim or run :Lazy sync to install the plugin
2. Open your palette.lua file - you should see color squares/backgrounds next to each
   hex code!
3. Test with other files - try opening a CSS or SCSS file with colors

### Usage:
Once installed, the plugin works automatically. You can also:
-  Toggle colors on/off: `:ColorizerToggle`
-  Attach to current buffer: `:ColorizerAttachToBuffer`
-  Detach from current buffer: `:ColorizerDetachFromBuffer`

The plugin will display actual color backgrounds next to your hex codes, making it
much easier to visualize what each color looks like when choosing colors for your
Night Owl theme!

## 修改 night-owl theme 个 cursorline 色水

進前 cursorline 个色水暗暗，佮 night-owl 深藍个背景色無分明，所以我想欲設做較
khín色咧。

**night-owl.nvim plugin 色水**

- 色水指定：
  ~/.local/share/nvim/lazy/night-owl.nvim/lua/night-owl/theme.lua
- 色盤列表：
  ~/.local/share/nvim/lazy/night-owl.nvim/lua/night-owl/palette.lua

以下修改我个 plugins/night-owl.lua
```
-- Set light-colored bg "blue2" for cursorline
vim.api.nvim_set_hl(0, "CursorLine", { fg = "NONE", bg = "#0b253a" })
```

本來我是欲設做 #234d708c，但是 vim.api.nvim_set_hl()
袂認得 8-digit RRGGBBAA color code。Warp AI 解說講：

---
The problem: Neovim's nvim_set_hl() function doesn't support 8-digit RGBA hex colors
like #234d708c. This is unrelated to nvim-colorizer, which is working correctly for
displaying colors in supported file types.

The solution: I've fixed it by:
1. Removing the invalid 8-digit hex color #234d708c
2. Using the valid 6-digit hex color #234d70 
3. Adding a blend = 55 attribute to achieve a similar transparency effect (the 8c
   value in hex ≈ 140/255 ≈ 55% opacity, so blend = 55 gives a similar visual result)

The RRGGBBAA = true setting in your nvim-colorizer.lua is working correctly - it's
meant for displaying/highlighting color codes in your editor, not for using them in
Neovim's highlight definitions. These are two different systems with different
capabilities.

---

## nvim 按怎扑開拄才關掉个檔案？

原來拄仔關掉(`:bd`)个檔案閣佇咧，是變做 unlisted-buffer (`:setlocal nobuflisted`)，
所以 `:ls` 看袂著，但是 `<Ctrl-^>` 抑是 `:b#` 猶原叫會出來。

### Built-in Methods:

1. :b# - Switch to the alternate buffer (the previously active buffer)
2. :oldfiles - List recently opened files, then use :e #<number> to open a specific
   file
   簡寫 `:o`，干焦列舊檔
3. :browse oldfiles - Browse recently opened files and select one to reopen
   簡寫 `:bro o`，會予咱扑號碼來進一步編修某一檔
4. Ctrl-^ - Quick toggle between current and alternate buffer

### Plugin Solutions:

Many users install plugins that make this easier:

-  telescope.nvim: :Telescope oldfiles - fuzzy find through recently opened files
-  fzf.vim: :History - search through file history
-  nvim-tree or other file explorers often have recent file features

### Session Management:

If you want to restore entire sessions with multiple buffers:
-  :mksession to save a session
-  :source Session.vim to restore it
-  Or use session management plugins like auto-session or possession.nvim

The quickest method for a just-closed buffer is usually Ctrl-^ or :b#.

## nvim import plugins 內底个檔案个順序

`./lua/config/lazy.lua` 內底有 `{ import = "plugins" }`，咱若囥 `init.lua` 踮 plugins
目錄內底，Warp AI 講 lazy 就會先 load 即个 init.lua，了後才閣照字母順序 load 其他个
.lua modules。
