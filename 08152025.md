# 2025-08-15  學習日誌

- [x] Warp AI creates WARP.md for ~/.config/nvim
- [x] Warp AI create ~/Hak/.nvimrc for textwidth=70
- [x] markview 縮排調整

## project scoped rules WARP.md

早起看著 Warp 閣有更新矣，第一條就是 "Added support for defining
project scoped rules with a WARP.md file." 我入來
~/.config/nvim/lua/plugins 伊就知影這是一个 git repo，主動問我欲建置
WARP.md 無。

伊先分析我規个 repo 个架構佮細節，寫一个不止仔豐富个報告書。不而過攏無
講著複雜个 markdown formatters 个設定，我叫伊重閣詳細檢視即部份才確定
版本。

伊即份 WARP.md 對我欲測試 nvim config 不止有幫贈，包括整體个認捌，佮一
寡我進前袂曉得个指令，也有共我講迄堆 markdown formatters 是對佗位安裝
來个，拄著佗一方面个問題，初步个測試方式，真詳細。即種效率佮省錢毋是
「工人智慧」綴會著个，莫怪大量个 IT 人員會失業。以下是 AI 个結論：

### Warp AI concludes with creating ~/.config/nvim/WARP.md

Perfect! I've created a comprehensive WARP.md file that accurately
reflects your sophisticated Neovim configuration. The file includes:

Key Highlights of the WARP.md:

1. **Accurate Markdown Formatting Architecture** - Documented your
   complex multi-formatter system with the 4 key files you mentioned
2. **Correct Tool Installation Info** - Properly noted that
   markdownlint is installed via Homebrew, not Mason
3. **Dual Markdownlint Configs** - Acknowledged both
   .markdownlint.yaml (used in nvim) and .markdownlint-cli2.yaml
   configurations
4. **Comprehensive Formatting Commands** - Detailed the various
   formatting options with proper keymappings
5. **Formatter Strategy Guide** - Clear guidance on when to use which
   formatter
6. **CJK Text Handling** - Documented the special CJK text
   optimization features
7. **Code Cleanup Notes** - Added a section about the need for
   refactoring the experimental formatting code

The documentation captures the sophisticated nature of your setup,
particularly the advanced markdown formatting pipeline with multiple
formatters, true partial formatting capabilities, and CJK text
optimization. It also properly notes areas that need cleanup and
refactoring, which will help future AI agents understand both the
current state and intended improvements.

This should provide excellent guidance for future Warp AI instances
working with your configuration!

## specific textwidth=70 for ~/Hak/*.md

因為咧寫學習日誌个時，定定愛分割做左右兩个視窗來比較、檢視，所以縮窄做
70 較利便，免得定定愛去搝徙中央迄條分割逝。

### Warp AI summary

I've configured nvim to set textwidth to 70 specifically for markdown
files in the ~/Hak directory. Here's what was done:

1. Enabled exrc and secure options
   - Modified `~/.config/nvim/lua/plugins/astrocore.lua`
     to enable directory-specific configuration files
   - `exrc = true` allows nvim to read .nvimrc files in directories
   - `secure = true` provides security by asking for confirmation
     before executing untrusted local config files

2. Created directory-specific .nvimrc
   - Created `~/Hak/.nvimrc` with autocmds that:
     - Set `textwidth=70` for markdown files in this directory
     - Set `colorcolumn=+1` (shows a visual guide at column 71)

3. How it works
   - When you open nvim from the ~/Hak directory, it will
     automatically source the .nvimrc file
   - The autocmds in that file will override your global textwidth=80
     setting specifically for markdown files
   - Other file types and directories remain unaffected

4. Usage
   - When you open a markdown file in the Hak directory, you'll see:
   `~/Hak/.nvimrc is not trusted.`
   - This is normal security behavior. You can:
     - Type y to trust and execute the file (one time)
     - Or add the file to your trusted list permanently

NOTE: 這毋但 .nvimrc 一種檔案會引起 secure mechanism 个管控，閣有像
`~/.local/share/nvim/lazy/astrotheme/.lazy.lua`

## markview 縮排調整

調整規晡，最後勉強得著一組會使接受个設定：

```lua
  opts = {
    preview = {
      enable = true,
      enable_hybrid_mode = true,
    },
    markdown = {
      list_items = {
        enable = true, -- 設做 false 嘛好
        -- Indentation size for list items (how much space each level adds)
        -- You can change this value to control the indentation
        indent_size = 1, -- Default is usually 2, you can set it to 4 for wider indents

        -- Virtual indentation size for previewed list items
        -- This controls how much the rendered list items are shifted
        shift_width = 1, -- Adjust this to control visual indentation
      },
    },
  },
```
