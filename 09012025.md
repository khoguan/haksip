# 2025-09-01 學習日誌

- [x] 安裝 neovim-tips
- [x] 安裝 colorful-winsep-nvim
- [x] 安裝 nvim-hlslens
- [ ] remap `q:` 無成
- [x] ts-autotag 閣走出來擾亂矣！
- [x] 建置 nvim-as5 攏用原廠个物件來 format Markdown/Markdown-inline

## 安裝 neovim-tips

即个 plugin 予 Neovim 變成真有範个套裝軟體，會使逐工顯示一擺使用撇步，
抑是見擺扑開 nvim 就會顯示一个撇步。因為閣佇「使用个蜜月期」，所以共伊
顯做「一開一步」。

## 安裝 colorful-winsep-nvim

進前就想講 AstroNvim 个主題 astrodark 佇左右並列視窗个時，中央个分隔線
真無明顯，僫用老鼠仔操作。Tann 才發現 community 內底有一个 colorful-winsep
就會凍解決即个問題。

## 安裝 nvim-hlslens

LazyVim 个 `/` search 功能做了真好，會佇每一个目標个行尾顯示形式像
`[n/m]` 个提示，予儂知影這是總數幾个目標當中个第幾个。AstroNvim
是顯示下底狀態列，有影較歹用。

發現 community 內底有即項 nvim-hlslens 是類似个功能，有一寡項目
通設定來變化介面，總是今無氣力去調整，先用預設个就好。

結果發現預設个 hlslens 無法度取消 highlighting，只好先提捒。

## Neovim 學習之旅欲 tsi̍h-tsām 矣？

最近幾工較無熱心去矣，扑算我个 Neovim 學習之旅到遮欲 tsi̍h-tsām 矣？

## remap `q:` 無成

因為欲揤 `:q` 煞定定去誤揤著 `q:`，欲共 `q:` remap 去別物，一時無成。

目前先設一个 `<Leader>xh` 是執行 `require("snacks").picker.command_history()`。

## ts-autotag 閣走出來擾亂矣

龜怪咧，ts-autotag 拄才閣走出來亂矣！我个 plugins/ 下底个 ts-autotag.lua 定製版
哪會扑毋見？先去揣舊學習日誌，看著是八月中設好个，才去揣 Time Machine 八月十六个
備份，佳哉救轉來矣。複製一份佇下底，免得另工閣pháng--kìnn。

```lua
return {
  "windwp/nvim-ts-autotag",
  config = function()
    require("nvim-ts-autotag").setup {
      opts = {
        -- Defaults
        enable_close = true, -- Auto close tags
        enable_rename = true, -- Auto rename pairs of tags
        enable_close_on_slash = false, -- Auto close on trailing </
      },
      -- Also override individual filetype configs, these take priority.
      -- Empty by default, useful if one of the "opts" global settings
      -- doesn't work well in a specific filetype
      per_filetype = {
        ["markdown"] = {
          enable_close = false,
          enable_rename = false,
          enable_close_on_slash = false,
        },
      },
    }
  end,
}
```

## 建置 nvim-as5 攏用原廠个物件來 format Markdown/Markdown-inline

總算試出來矣！

1. community.lua 前幾逝是按呢：

   ```lua
   return {
     "AstroNvim/astrocommunity",
     { import = "astrocommunity.pack.lua" },
     { import = "astrocommunity.pack.markdown" },
     { import = "astrocommunity.pack.prettier" },
     { import = "astrocommunity.editing-support.conform-nvim" },
   }
   ```

2. 用 `:Mason` 手動安裝 `cbfmt`，閣有各語言所需要个 formatters，像 `black`, `shfmt` 等。

3. 將原廠个 .stylua.toml 複製過來 ~/Hak。閣有進前 Warp AI 共我設个 `.cbfmt.toml`
   也複製過來改一下。

4. `plugins/conform.lua` 簡單加上

   ```lua
     formatters_by_ft = {
       markdown = { "prettierd", "cbfmt" },
     },
   ```

   予伊先用 `prettiered` 排版整體，閣用 `cbfmt` 排版 inline code。
   第 1. 點个 inline code，若干焦 import 迄幾逝，伊袂曉排，若有完整个
   `return { ... }` 伊就排有路來矣。而且愛有 .stylua.toml 下佇專案根目錄，
   伊才會正確縮排。

## 今仔日个心得

1. AstroNvim 原廠个物件若會曉組合，其實免加寫幾行源碼就做會出咱欲愛个效果。
2. 愛注意將各 formatters 所需要个 config file 攢予好。
3. none-ls 佮 AstroNvim ecosystem 配合度無好。用 mason + conform 較鬥搭。
